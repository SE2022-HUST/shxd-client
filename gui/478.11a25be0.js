"use strict";(self.webpackChunkshxd_client_ui=self.webpackChunkshxd_client_ui||[]).push([[478],{3301:(n,e,t)=>{t.d(e,{Z:()=>z});var r,a=t(7294),o=t(5998),i=t(9655),c=t(9250),l=t(3643);!function(n){n[n.WHITE_LIST=0]="WHITE_LIST",n[n.BLACK_LIST=1]="BLACK_LIST"}(r||(r={}));var u=t(326),s=t(130),f=t(4184),d=t.n(f),h=t(5893);const m=function(n){return(0,h.jsx)("div",{className:d()("layout-headbar","menu-button"),children:(0,h.jsx)(s.Z,{"aria-label":"menu",onClick:function(){n.setOpen(!0)},children:(0,h.jsx)(u.Z,{sx:{color:"white"}})})})};var y=t(7012),v=t(120),p=t(8573),g=t(5964),b=t(5309),j=t(9894),x=t(1702),w=t(2165);const S=function(n){var e=n.content,t=n.onClick,r=n.icon;return(0,h.jsx)(g.ZP,{disablePadding:!0,children:(0,h.jsxs)(b.Z,{onClick:t,children:[(0,h.jsx)(j.Z,{children:void 0===r?(0,h.jsx)(w.Z,{}):r}),(0,h.jsx)(x.Z,{primary:e})]})})};var A=t(2821);const Z=function(n){var e=n.closeHandler,t=(0,c.s0)();return(0,h.jsx)(v.Z,{sx:{width:250},role:"presentation",children:(0,h.jsx)(p.Z,{children:A.qh.map((function(n){return(0,h.jsx)(S,{content:n.name,onClick:function(){e(),t(n.url)},icon:n.icon},n.name)}))})})},I=function(n){var e=n.open,t=n.setOpen;return(0,h.jsx)("div",{className:"drawer-menu",children:(0,h.jsx)(y.ZP,{anchor:"left",open:e,onClose:function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&t(!1)},children:(0,h.jsx)(Z,{closeHandler:function(){t(!1)}})})})};function k(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=O(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,a=function(){};return{s:a,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){c=!0,o=n},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw o}}}}function O(n,e){if(n){if("string"==typeof n)return C(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(n,e):void 0}}function C(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t(1056);const P=function(n){var e,t,o=n.mode,i=(e=(0,a.useState)(!1),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],u=i[1],s=function(n){u(n)},f=(0,c.TH)();return(0,h.jsxs)("div",{className:"layout-container",children:[function(){if(o===r.BLACK_LIST){var n,e=k(A.QI);try{for(e.s();!(n=e.n()).done;){var t=n.value;if(f.pathname===t)return!1}}catch(n){e.e(n)}finally{e.f()}return!0}var a,i=k(A.p7);try{for(i.s();!(a=i.n()).done;){var c=a.value;if(f.pathname===c)return!0}}catch(n){i.e(n)}finally{i.f()}return!1}()?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m,{setOpen:s}),(0,h.jsx)(I,{open:l,setOpen:s})]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)(c.j3,{})]})};var N=t(2549),E=t(5711),T=t(8185),M=t(8319),U=t(801),F=t(7936),L=t(5229),_=(t(4643),(0,i.aj)([{path:"/",element:(0,h.jsx)(P,{mode:r.WHITE_LIST}),errorElement:(0,h.jsx)(E.Z,{}),children:[{path:"*",element:(0,h.jsx)(M.Z,{})},{index:!0,element:(0,h.jsx)(M.Z,{})},{path:"compress",element:(0,h.jsx)(N.Z,{})},{path:"stylish",element:(0,h.jsx)(L.Z,{})},{path:"mosaic",element:(0,h.jsx)(U.Z,{})},{path:"images",element:(0,h.jsx)(T.Z,{})},{path:"progress",element:(0,h.jsx)(F.Z,{})}]}]));function z(){return(0,a.useEffect)((function(){document.oncontextmenu=function(){return!1}}),[]),(0,h.jsx)(a.StrictMode,{children:(0,h.jsx)(o.zt,{store:l.h,children:(0,h.jsx)(c.pG,{router:_})})})}},2821:(n,e,t)=>{t.d(e,{QI:()=>f,p7:()=>d,qh:()=>h}),t(7294);var r=t(1199),a=t(4151),o=t(3110),i=t(6638),c=t(8406),l=t(8467),u=t(1235),s=t(5893),f=["/","/images"],d=["/compress","/stylish","/mosaic"],h=[{name:"主页",url:"/",icon:(0,s.jsx)(i.Z,{})},{name:"自动打码",pic:o,url:"mosaic",icon:(0,s.jsx)(u.Z,{})},{name:"视频压缩",pic:r,url:"compress",icon:(0,s.jsx)(c.Z,{})},{name:"风格化处理",pic:a,url:"stylish",icon:(0,s.jsx)(l.Z,{})}]},1665:(n,e,t)=>{t.d(e,{Z:()=>o});var r=t(7294);function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function o(n){var e,t,o=(e=(0,r.useState)(null),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}(e,t)||function(n,e){if(n){if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1];return(0,r.useEffect)((function(){null!==n.current&&c(n.current.getContext("2d"))})),i}},8225:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(7294);function a(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}(n,e)||function(n,e){if(n){if("string"==typeof n)return o(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function i(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}(n,e)||function(n,e){if(n){if("string"==typeof n)return c(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const l=function(n){var e=i(function(){var n=a((0,r.useState)(window.innerWidth),2),e=n[0],t=n[1],o=a((0,r.useState)(window.innerHeight),2),i=o[0],c=o[1],l=(0,r.useCallback)((function(){window.onresize=function(){t(window.innerWidth),c(window.innerHeight)}}),[]);return(0,r.useEffect)((function(){l()}),[l]),[e,i]}(),2),t=e[0],o=e[1],c=i((0,r.useState)(t*n),2),l=c[0],u=c[1],s=i((0,r.useState)(l/16*9),2),f=s[0],d=s[1];return(0,r.useEffect)((function(){u(t*n),d(l/16*9)}),[t,o]),[l,f]}},4918:(n,e,t)=>{t.d(e,{V1:()=>i,ZP:()=>l});var r=t(7294);function a(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return o(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,a=function(){};return{s:a,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return c=n.done,n},e:function(n){l=!0,i=n},f:function(){try{c||null==t.return||t.return()}finally{if(l)throw i}}}}function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function i(n){}function c(n,e){if(void 0===window.pywebview.state)throw new Error("未初始化全局State");window.pywebview.state[n]=e}function l(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var o=(0,r.useCallback)((function(){if(void 0!==window.pywebview){void 0===window.pywebview.state&&(window.pywebview.state={});var n,t=a(e);try{for(t.s();!(n=t.n()).done;){var r=n.value;c(r.name,r.data)}}catch(n){t.e(n)}finally{t.f()}console.log("registered:",window.pywebview.state)}}),[]);(0,r.useEffect)((function(){o()}),[o])}},73:(n,e,t)=>{t.d(e,{F7:()=>m,FV:()=>l,U0:()=>s,Uc:()=>i,Vk:()=>o,Xm:()=>f,YG:()=>c,ZP:()=>y,Zd:()=>h,_j:()=>d,cl:()=>u});var r=(0,t(9829).oM)({name:"images",initialState:{value:void 0,ready:!1,mark:void 0,savePath:""},reducers:{setImages:function(n,e){n.value=e.payload},setReady:function(n){n.ready=!0},setMark:function(n,e){n.mark=e.payload},setMarkByPage:function(n,e){var t=e.payload,r=t.page,a=t.index;void 0!==n.mark&&(n.mark[r][a]=!n.mark[r][a])},clearImage:function(n){n.value=void 0,n.ready=!1,n.mark=void 0},setSavePath:function(n,e){n.savePath=e.payload}}}),a=r.actions,o=a.setImages,i=a.setReady,c=a.setMark,l=a.setMarkByPage,u=a.clearImage,s=a.setSavePath,f=function(n){return n.images.value},d=function(n){return n.images.ready},h=function(n){return n.images.mark},m=function(n){return n.images.savePath};const y=r.reducer},3643:(n,e,t)=>{t.d(e,{CG:()=>l,TL:()=>c,h:()=>i});var r=t(9829),a=t(5998),o=t(73),i=(0,r.xC)({reducer:{images:o.ZP}}),c=function(){return(0,a.I0)()},l=a.v9},7700:(n,e,t)=>{function r(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return c=n.done,n},e:function(n){l=!0,i=n},f:function(){try{c||null==t.return||t.return()}finally{if(l)throw i}}}}function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function o(n){console.log("received:",n);var e,t=performance.now(),a=new Array,o=r(n);try{for(o.s();!(e=o.n()).done;){var i,c=r(e.value);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l[2]),a.push(l[1]),a.push(l[0]),a.push(255)}}catch(n){c.e(n)}finally{c.f()}}}catch(n){o.e(n)}finally{o.f()}return console.log("decode costs: ".concat(performance.now()-t,"ms")),new Uint8ClampedArray(a)}t.d(e,{PY:()=>o})},303:(n,e,t)=>{t.d(e,{Z:()=>m}),t(7294);var r=t(8653),a=t(2962),o=t(4498),i=t(4439),c=t(7745),l=t(5305),u=t(5893),s=["title","text","actions","children"];function f(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){h(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function h(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const m=function(n){var e=n.title,t=n.text,f=n.actions,h=n.children,m=function(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}(n,s);return(0,u.jsxs)(r.Z,d(d({},m),{},{children:[void 0===e?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)(c.Z,{children:e}),(0,u.jsxs)(o.Z,{children:[void 0===t?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)(i.Z,{children:t}),h]}),void 0===f?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)(a.Z,{children:f.map((function(n,e){return(0,u.jsx)(l.Z,{onClick:n.action,children:n.name},e)}))})]}))}},9557:(n,e,t)=>{t.d(e,{Z:()=>c});var r=t(7294),a=t(1665),o=t(5893);const i=function(n){var e=n.data,t=n.frameSize,i=n.onUpdate;if(void 0===e)return(0,o.jsx)(o.Fragment,{});var c=(0,r.useRef)(null),l=(0,a.Z)(c),u=(0,r.useMemo)((function(){return new ImageData(e,t.width,t.height)}),[e,t]);return null!==l&&null!==c.current&&(l.putImageData(u,0,0),i(c.current)),(0,o.jsx)("div",{className:"hidden-container",children:(0,o.jsx)("canvas",{hidden:!0,width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),ref:c})})};function c(n){var e=n.data,t=n.frameSize,c=n.containerSize,l=n.hidden,u=(0,r.useRef)(null),s=(0,a.Z)(u),f=void 0===(null==c?void 0:c.width)?800:c.width,d=void 0===(null==c?void 0:c.height)?450:c.height;return(0,o.jsx)("div",{className:"canvas-frame",children:(0,o.jsxs)("div",{className:"quickview-canvas",children:[void 0!==e&&void 0!==t?(0,o.jsx)(i,{data:e,frameSize:t,onUpdate:function(n){null!==s&&null!==u.current&&s.drawImage(n,0,0,f,d)}}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)("canvas",{width:"".concat(f,"px"),height:"".concat(d,"px"),ref:u,hidden:!0===l})]})})}t(612)},5057:(n,e,t)=>{t.d(e,{Z:()=>g});var r=t(7294),a=t(9557),o=(t(2019),t(3516)),i=t(5305),c=t(73),l=t(3643),u=t(7700),s=t(5893);const f=function(n){var e=n.children;return(0,s.jsx)("div",{className:"tip-text",children:e})};function d(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}(n,e)||function(n,e){if(n){if("string"==typeof n)return h(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const m=function(n){var e=n.next,t=n.setFrame,a=n.openApi,h=d((0,r.useState)(!1),2),m=h[0],y=h[1],v=d((0,r.useState)(!1),2),p=v[0],g=v[1],b=d((0,r.useState)(!1),2),j=b[0],x=b[1],w=d((0,r.useState)(!1),2),S=w[0],A=w[1],Z=(0,r.useRef)(null),I=(0,l.TL)();return(0,r.useEffect)((function(){p&&j&&A(!0)})),(0,s.jsxs)("div",{className:"file-open-bar",children:[(0,s.jsxs)("div",{className:"process-step",children:[(0,s.jsx)(f,{children:"第一步：选择输出路径"}),(0,s.jsxs)("div",{className:"path-choose-bar",children:[(0,s.jsx)("input",{className:"save-path-input",ref:Z,readOnly:!0}),(0,s.jsx)(i.Z,{variant:"contained",onClick:function(){window.pywebview.api.get_save_path().then((function(n){console.log(n),I((0,c.U0)(n)),null!==Z.current&&(Z.current.value=n,x(!0))})).catch((function(n){console.log(n),x(!1)}))},children:"打开"})]})]}),(0,s.jsxs)("div",{className:"process-step",children:[(0,s.jsx)(f,{children:"第二步：打开视频文件"}),(0,s.jsx)(o.Z,{variant:"contained",loading:m,onClick:function(){y(!0),a().then((function(n){var e={data:(0,u.PY)(n),height:n.length,width:n[0].length};t(e),g(!0),console.log("decode finished")})).catch((function(n){console.log(n),g(!1)})).finally((function(){y(!1)}))},children:"打开视频"})]}),(0,s.jsxs)("div",{className:"process-step",children:[(0,s.jsx)(f,{children:"第三步：一切就绪后，点击下一步"}),(0,s.jsx)(i.Z,{variant:"contained",disabled:void 0===e||!S,onClick:e,children:"下一步"})]})]})};var y=t(8225);function v(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}(n,e)||function(n,e){if(n){if("string"==typeof n)return p(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const g=function(n){var e=n.next,t=n.open,o=v((0,r.useState)(),2),i=o[0],c=o[1],l=v((0,r.useState)(),2),u=l[0],f=l[1],d=v((0,r.useState)(),2),h=d[0],p=d[1],g=v((0,y.Z)(.4),2),b=g[0],j=g[1];return(0,s.jsxs)("div",{className:"util-wrapper",children:[(0,s.jsx)("div",{className:"canvas-wrapper",children:(0,s.jsx)(a.Z,{data:i,frameSize:void 0!==u&&void 0!==h?{width:u,height:h}:void 0,containerSize:{width:b,height:j}})}),(0,s.jsx)(m,{next:e,setFrame:function(n){c(n.data),p(n.height),f(n.width)},openApi:t})]})}},5863:(n,e,t)=>{t.d(e,{Z:()=>a}),t(7294),t(4050);var r=t(5893);const a=function(n){var e=n.children;return(0,r.jsx)("div",{className:"util-header",children:e})}},3934:(n,e,t)=>{t.d(e,{Z:()=>O});var r=t(7294),a=(t(3315),t(7700)),o=t(1665),i=t(5449),c=t(4918),l=t(73),u=t(3643),s=t(4184),f=t.n(s),d=t(8550),h=t(7036),m=t(5893);const y=function(n){var e=n.onClick,t=n.display;return(0,m.jsx)("div",{className:"mask",onClick:e,children:t?(0,m.jsx)(h.Z,{sx:{color:"#32e81e"},fontSize:"large"}):(0,m.jsx)(m.Fragment,{})})},v=function(n){var e=n.key,t=n.src,r=n.chosen,a=n.setChosen,o=function(){a(),console.log("".concat(e," clicked! now: ").concat(String(r)))};return(0,m.jsxs)(d.Z,{className:f()("image-item",{"image-chosen":r}),children:[(0,m.jsx)("img",{src:t,loading:"lazy",onClick:o}),(0,m.jsx)(y,{onClick:o,display:r})]})};var p=t(9382),g=t(5705),b=t(130),j=t(6176),x=t(724);const w=function(n){var e=n.now,t=n.total,r=n.loading,a=n.percentage,o=n.onNext,i=n.onBack;return(0,m.jsx)("div",{className:"image-pagination",children:!0===r?void 0!==a?(0,m.jsxs)("div",{className:"progress-container",children:[(0,m.jsx)(p.Z,{variant:"determinate",value:a}),(0,m.jsx)("h2",{children:"".concat(a,"%")})]}):(0,m.jsx)("div",{className:"progress-container",children:(0,m.jsx)(g.Z,{})}):(0,m.jsxs)("div",{className:"pagination-container",children:[(0,m.jsx)(b.Z,{className:"pag-but",onClick:i,disabled:0===e,children:(0,m.jsx)(x.Z,{})}),(0,m.jsx)("h1",{children:"".concat(e+1," / ").concat(t)}),(0,m.jsx)(b.Z,{className:"pag-but",onClick:o,disabled:e===t-1,children:(0,m.jsx)(j.Z,{})})]})})};function S(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const A=function(n){var e,t,a=n.col,o=n.imgs,s=(n.sktNum,n.nowPage),f=n.allPage,d=n.ready,h=n.nextPage,y=n.backPage,p=(0,u.CG)(l.Zd),g=(0,u.TL)(),b=(e=(0,r.useState)(),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}(e,t)||function(n,e){if(n){if("string"==typeof n)return S(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=b[0],x=b[1];return(0,c.ZP)({name:"setLoadProcess",data:function(n){x(n)}}),(0,m.jsxs)("div",{className:"image-page",children:[(0,m.jsx)(w,{now:s,total:f,loading:!d,onNext:h,onBack:y,percentage:j}),(0,m.jsx)(i.Z,{className:"image-list",cols:a,gap:4,children:d&&void 0!==o&&void 0!==p?o[s].map((function(n,e){return(0,m.jsx)(v,{src:n,chosen:p[s][e],setChosen:function(){g((0,l.FV)({page:s,index:e}))}},e)})):(0,m.jsx)(m.Fragment,{})})]})};function Z(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}(n,e)||function(n,e){if(n){if("string"==typeof n)return I(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var k=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];const O=function(n){var e=n.data,t=n.ready,i=n.onFinish,c=n.onEnd,s=Z((0,r.useState)(),2),f=s[0],d=s[1],h=Z((0,r.useState)(0),2),y=h[0],v=h[1],p=Z((0,r.useState)(0),2),g=p[0],b=p[1],j=Z((0,r.useState)(!1),2),x=j[0],w=j[1],S=(0,r.useRef)(null),I=(0,o.Z)(S),O=(0,u.TL)();return(0,r.useEffect)((function(){c(y===g-1)}),[y]),(0,r.useEffect)((function(){if(t&&void 0!==e){b(e.length),console.log(e.length);for(var n=[],r=[],o=0;o<e.length;o++){n.push([]),r.push([]),console.log(o,n),console.log(n[o]),console.log(r),console.log(r[o]);for(var i=0;i<e[o].length;i++){r[o].push(!1);var c=(0,a.PY)(e[o][i]),u=new ImageData(c,e[o][i][0].length,e[o][i].length);if(null!==I&&null!==S.current){S.current.width=e[o][i][0].length,S.current.height=e[o][i].length,I.putImageData(u,0,0);var s=S.current.toDataURL("image/png");n[o].push(s)}}}d(n),O((0,l.YG)(r)),w(!0)}}),[t]),(0,m.jsxs)("div",{className:"img-list-container",children:[(0,m.jsx)("canvas",{hidden:!0,ref:S}),(0,m.jsx)(A,{nowPage:y,allPage:g,sktNum:k,col:4,imgs:f,ready:x,nextPage:function(){y<g-1?v(y+1):i()},backPage:function(){y>0&&v(y-1)}})]})}},6241:(n,e,t)=>{t.d(e,{Z:()=>s}),t(7294);var r=t(9250),a=t(5256),o=t(1647),i=t(4184),c=t.n(i),l=(t(9455),t(5893));const u=function(n){return(0,l.jsxs)(a.Z,{className:"img-button-wrapper",onClick:n.onClick,children:[(0,l.jsx)("img",{className:"img-src",src:n.src}),(0,l.jsx)("span",{className:c()("img-backdrop","MuiImageBackdrop-root")}),(0,l.jsx)("span",{className:"img-container",children:(0,l.jsx)(o.Z,{component:"span",variant:"subtitle1",sx:{position:"relative",p:4,pt:2,pb:2,color:"white"},fontSize:"1.4rem",children:n.name})})]})},s=function(n){var e=n.data,t=(0,r.s0)();return(0,l.jsx)("div",{className:"img-button-elmt",children:(0,l.jsx)(u,{src:e.pic,name:e.name,onClick:function(){t(e.url)}})})}}}]);